# Soccer Game - N vs N 멀티플레이어

## 소개
Swing GUI를 활용한 실시간 멀티플레이어 축구 게임입니다. 최대 2 vs 2 (4명)까지 플레이 가능합니다.

## 주요 기능
- ✅ 4명 플레이어 대기 시스템
- ✅ 접속한 플레이어 이름 실시간 표시
- ✅ 팀 선택 화면 (팀1: 레드, 팀2: 블루)
- ✅ 4가지 캐릭터 선택 (mario, nyan, ruigi, yoshi)
- ✅ 준비 완료 버튼 - 모든 플레이어가 준비해야 게임 시작
- ✅ 카메라가 공을 따라 이동
- ✅ 실시간 위치 동기화 (플레이어 위치, 공 위치)
- ✅ 골 시스템 - 득점 후 중앙에서 재시작
- ✅ 시간 제한: 한 경기 2분
- ✅ 승리 조건: 5골 먼저 달성 또는 시간 종료 시 점수 높은 팀 승리

## 실행 방법

### 1. 서버 시작
```bash
cd src
java Main
```
- "Start Server" 선택
- 서버가 포트 54322에서 4명의 플레이어를 대기합니다
- 콘솔에 접속한 플레이어 수가 표시됩니다

### 2. 클라이언트 실행 (4명)
각 플레이어마다 새 터미널에서:
```bash
cd src
java Main
```
- "Start Client" 선택
- 서버 주소 입력 (localhost 또는 서버 IP)
- 플레이어 이름 입력

### 3. 팀 선택
- 4명 모두 접속하면 팀 선택 화면으로 이동
- 접속한 플레이어 목록 확인
- 팀 선택 (팀1 또는 팀2)
- 캐릭터 선택 (mario, nyan, ruigi, yoshi)
- "준비 완료" 버튼 클릭

### 4. 게임 시작
- 모든 플레이어가 "준비 완료"를 누르면 게임 자동 시작
- 2분 타이머 시작
- 5골 먼저 달성하거나 시간 종료 시 게임 종료

## 조작법
- **이동**: 방향키 (↑↓←→) 또는 WASD
- **킥**: 공에 가까이 다가가면 자동으로 킥

## 게임 규칙
- 팀1 (레드): 왼쪽에서 시작, 오른쪽 골대 공격
- 팀2 (블루): 오른쪽에서 시작, 왼쪽 골대 공격
- 골을 넣으면 점수 획득 후 중앙에서 재시작
- **승리 조건**:
  - 5골 먼저 달성
  - 2분 종료 시 점수 높은 팀
  - 동점일 경우 무승부

## 캐릭터
- **mario.webp** - 마리오
- **nyan.webp** - 냥캣
- **ruigi.webp** - 루이지
- **yoshi.webp** - 요시

## 기술 스택
- **언어**: Java
- **GUI**: Swing
- **네트워킹**: Socket (멀티스레드)
- **동기화**: 플레이어 위치 + 공 위치만 전송 (효율적인 데이터 전송)

## 프로젝트 구조
```
src/
├── Main.java                  # 메인 런처
├── SoccerGameServer.java      # 게임 서버 (4명 대기, 팀 선택 관리)
├── SoccerGameClient.java      # 게임 클라이언트 (팀 선택 UI + 게임)
└── image/
    ├── feild.jpg              # 축구장 배경
    ├── ball.png               # 축구공 (크기 조절됨)
    ├── intro_image.jpg        # 인트로 화면
    └── players/
        ├── mario.webp         # 캐릭터 1
        ├── nyan.webp          # 캐릭터 2
        ├── ruigi.webp         # 캐릭터 3
        └── yoshi.webp         # 캐릭터 4
```

## 네트워크 프로토콜
게임은 간단한 텍스트 기반 프로토콜을 사용합니다:

**서버 → 클라이언트:**
- `INIT:index` - 플레이어 인덱스 부여
- `PLAYER_COUNT:current:max` - 현재 접속 인원 / 최대 인원
- `PLAYER_LIST:idx1,name1:idx2,name2...` - 접속한 플레이어 목록
- `PLAYER_UPDATE:idx:name:team:image` - 플레이어 팀/캐릭터 정보
- `PLAYER_READY:idx` - 플레이어 준비 완료
- `GAME_START` - 게임 시작 신호
- `PLAYER_MOVE:idx:x:y` - 플레이어 이동
- `BALL_UPDATE:x:y:velX:velY` - 공 위치 및 속도
- `SCORE:score1:score2` - 점수 업데이트
- `GAME_END:winner` - 게임 종료 (0=무승부, 1=팀1승, 2=팀2승)
- `PLAYER_LEFT:idx` - 플레이어 퇴장

**클라이언트 → 서버:**
- `이름` - 최초 접속 시 플레이어 이름 전송
- `TEAM_SELECT:team:image` - 팀 및 캐릭터 선택
- `READY` - 준비 완료 신호
- `MOVE:x:y` - 플레이어 이동
- `BALL:x:y:velX:velY` - 공 위치 및 속도 업데이트
- `GOAL:team` - 골 득점

## 게임 흐름
1. 서버 시작 → 4명 대기
2. 클라이언트 4명 접속
3. 모두 접속하면 팀 선택 화면
4. 각자 팀 + 캐릭터 선택 후 준비 완료
5. 모두 준비되면 게임 시작 (2분 타이머)
6. 5골 먼저 달성하거나 시간 종료
7. 승자 발표

## 주의사항
- 정확히 4명이 접속해야 팀 선택 화면으로 진행됩니다
- 모든 클라이언트는 같은 프로젝트 폴더의 이미지를 사용합니다
- 서버를 먼저 실행한 후 클라이언트를 실행하세요
- 네트워크 환경에 따라 약간의 지연이 있을 수 있습니다
- 게임 중 플레이어가 나가면 다른 플레이어들도 영향을 받을 수 있습니다
